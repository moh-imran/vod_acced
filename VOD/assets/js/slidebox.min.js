/*! Slidebox.JS - v1.0 - 2013-11-30
 * http://github.com/trevanhetzel/slidebox
 *
 * Copyright (c) 2013 Trevan Hetzel <trevan.co>;
 * Licensed under the MIT license */

slidebox=function(a){carousel=function(){var b=$(a.container).children(".carousel"),c=$(".carousel li"),d=$(a.leftTrigger),e=$(a.rightTrigger),f=c.length,g=0,h=function(){g>0&&(b.animate({left:"+="+a.length+"px"},a.speed),g--)},i=function(){f-2>g&&(b.animate({left:"-="+a.length+"px"},a.speed),g++)};d.on("click",function(){h()}),e.on("click",function(){i()}),$(document).keydown(function(a){37==a.keyCode&&h()}),$(document).keydown(function(a){39==a.keyCode&&i()})},lightbox=function(){var a=".carousel li a";$(document).keydown(function(a){27==a.keyCode&&closeLightbox()}),$(document).on("click",function(){closeLightbox()}).on("click",a,function(a){var b=$(this);a.preventDefault(),a.stopPropagation(),dest=b.attr("href"),capt=b.children("img").data("caption"),enlarge(dest,capt),$(document).on("click",".lightbox img",function(a){a.stopPropagation()})}),closeLightbox=function(){$(".lightbox-cont").remove(),$(".lightbox").remove()},enlarge=function(a,b){$("body").append("<div class='lightbox-cont'></div><div class='lightbox'></div>"),$(".lightbox").html(function(){return"<img src='"+a+"'><div class='lightbox-caption'>"+b+"</div>"})}},carousel(),lightbox()};